!function a(o,i,s){function u(n,t){if(!i[n]){if(!o[n]){var r="function"==typeof require&&require;if(!t&&r)return r(n,!0);if(h)return h(n,!0);throw new Error("Cannot find module '"+n+"'")}var e=i[n]={exports:{}};o[n][0].call(e.exports,function(t){var r=o[n][1][t];return u(r||t)},e,e.exports,a,o,i,s)}return i[n].exports}for(var h="function"==typeof require&&require,t=0;t<s.length;t++)u(s[t]);return u}({1:[function(t,r){(function(n){function d(t){var r=this;r.col=void 0===t.col?-1:t.col,r.value=t.value,r.results=t.results,r.tb=t.tb,r.fb=t.fb}function e(t,r){r=r||"",void 0!==t.results?console.log(t.results):(console.log(t.col+":"+t.value+"? "),n.stdout.write(r+"T->"),e(t.tb,r+"  "),n.stdout.write(r+"F->"),e(t.fb,r+"  "))}function s(t){var r,n,e=M(t),a=0,o=Object.keys(e);for(r=0;r<o.length;r++){var i=1*e[o[r]]/t.length;a-=1*i*(n=i,Math.log(n)/Math.log(2))}return a}function M(t){var r,n={};for(r=0;r<t.length;r++){var e=t[r][t[r].length-1];void 0===n[e]&&(n[e]=0),n[e]++}return n}function y(t,r,n){var e;e=u.isNumber(n)?function(t){return t[r]>=n}:function(t){return t[r]===n};var a,o=[],i=[];for(a=0;a<t.length;a++)e(t[a])?o.push(t[a]):i.push(t[a]);return[o,i]}var u=t("./utils");u.math,d.prototype.print=function(){e(this,"")},DecisionTree=r.exports=function(t){this.data=t.data,this.result=t.result},DecisionTree.prototype.build=function(){var t,r=this,n=[];for(t=0;t<r.data.length;t++)n.push(r.data[t]),n[t].push(r.result[t]);return r.tree=function t(r,n){if(0==r.length)return new d;var e,a,o,i,s=n(r),u=0,h=r[0].length-1;for(o=0;o<h;o++){var l={};for(i=0;i<r.length;i++)l[r[i][o]]=1;var f=Object.keys(l);for(i=0;i<f.length;i++){var c=y(r,o,f[i]),m=1*c[0].length/r.length,p=s-m*n(c[0])-(1-m)*n(c[1]);u<p&&0<c[0].length&&0<c[1].length&&(u=p,e=[o,f[i]],a=c)}}if(0<u){var g=t(a[0],n),v=t(a[1],n);return new d({col:e[0],value:e[1],tb:g,fb:v})}return new d({results:M(r)})}(n,s),r.tree},DecisionTree.prototype.print=function(){e(this.tree,"")},DecisionTree.prototype.classify=function(t){return function t(r,n){if(void 0!==n.results)return n.results;var e=r[n.col];return t(r,u.isNumber(e)?e>=n.value?n.tb:n.fb:e===n.value?n.tb:n.fb)}(t,this.tree)},DecisionTree.prototype.prune=function(t){!function t(n,r){if(void 0===n.tb.results&&t(n.tb,r),void 0===n.fb.results&&t(n.fb,r),void 0!==n.tb.results&&void 0!==n.fb.results){var e=[],a=[],o=[];Object.keys(n.tb.results).forEach(function(t){for(var r=0;r<n.tb.results[t];r++)e.push([t]),o.push([t])}),Object.keys(n.fb.results).forEach(function(t){for(var r=0;r<n.fb.results[t];r++)a.push([t]),o.push([t])});var i=1*e.length/o.length;s(o)-i*s(e)-(1-i)*s(a)<r&&(n.tb=void 0,n.fb=void 0,n.results=M(o))}}(this.tree,t)},DecisionTree.prototype.getTree=function(){return this.tree}}).call(this,t("0NpzKc"))},{"./utils":12,"0NpzKc":13}],2:[function(t,r){var e=t("./utils").math;HiddenLayer=r.exports=function(t){if(this.input=t.input,void 0===t.W){var r=1/t.n_in;t.W=e.randMat(t.n_in,t.n_out,-r,r)}void 0===t.b&&(t.b=e.zeroVec(t.n_out)),void 0===t.activation&&(t.activation=e.sigmoid),this.W=t.W,this.b=t.b,this.activation=t.activation},HiddenLayer.prototype.output=function(t){var r=this;void 0!==t&&(r.input=t);var n=e.addMatVec(e.mulMat(r.input,r.W),r.b);return e.activateMat(n,r.activation)},HiddenLayer.prototype.linearOutput=function(t){return void 0!==t&&(this.input=t),e.addMatVec(e.mulMat(this.input,this.W),this.b)},HiddenLayer.prototype.backPropagate=function(t){if(void 0===t)throw new Error("No BackPropagation Input.");return e.mulMat(t,m.transpose(this.W))},HiddenLayer.prototype.sampleHgivenV=function(t){void 0!==t&&(this.input=t);var r=this.output();return e.probToBinaryMat(r)}},{"./utils":12}],3:[function(t,r){var f=t("./utils").math;LogisticRegression=r.exports=function(t){var r=this;r.x=t.input,r.y=t.label,r.W=f.zeroMat(t.n_in,t.n_out),r.b=f.zeroVec(t.n_out),r.settings={"log level":1}},LogisticRegression.prototype.train=function(t){var r=this,n=.1,e=200;void 0!==t.input&&(r.x=t.input),void 0!==t.lr&&(n=t.lr),void 0!==t.epochs&&(e=t.epochs);var a,o=1;for(a=0;a<e;a++){var i=f.softmaxMat(f.addMatVec(f.mulMat(r.x,r.W),r.b)),s=f.minusMat(r.y,i),u=f.mulMat(f.transpose(r.x),s),h=f.meanMatAxis(s,0);if(r.W=f.addMat(r.W,f.mulMatScalar(u,n)),r.b=f.addVec(r.b,f.mulVecScalar(h,n)),0<r.settings["log level"]){var l=1*a/e*100;o<l&&(console.log("LogisticRegression",l.toFixed(0),"% Completed."),o++)}}0<r.settings["log level"]&&console.log("LogisticRegression Final Cross Entropy : ",r.getReconstructionCrossEntropy())},LogisticRegression.prototype.getReconstructionCrossEntropy=function(){var t=this,r=f.softmaxMat(f.addMatVec(f.mulMat(t.x,t.W),t.b)),n=f.mulMatElementWise(t.y,f.activateMat(r,Math.log)),e=f.mulMatElementWise(f.mulMatScalar(f.addMatScalar(t.y,-1),-1),f.activateMat(f.mulMatScalar(f.addMatScalar(r,-1),-1),Math.log));return-f.meanVec(f.sumMatAxis(f.addMat(n,e),1))},LogisticRegression.prototype.predict=function(t){return f.softmaxMat(f.addMatVec(f.mulMat(t,this.W),this.b))},LogisticRegression.prototype.set=function(t,r){this.settings[t]=r}},{"./utils":12}],4:[function(t,r){var p=t("./utils").math;Kmeans=r.exports,Kmeans.cluster=function(t){var r,n,e,a,o,i=t.data,s=t.k,u=void 0===(r=t.distance)?p.euclidean:"function"==typeof r?r:"euclidean"===r.type?p.euclidean:"pearson"===r.type?p.pearson:void 0,h=t.epochs,l=(t.init_using_data,g(i,s,!0)),f=[];for(e=0;e<s;e++)f.push([]);for(n=0;n<h;n++){for(f=[],e=0;e<s;e++)f.push([]);for(e=0;e<i.length;e++){var c=0;for(a=0;a<s;a++)u(l[a],i[e])<u(l[c],i[e])&&(c=a);f[c].push(e)}for(e=0;e<s;e++){var m=[];for(a=0;a<i[0].length;a++)m.push(0);if(0<f[e].length){for(a=0;a<f[e].length;a++)for(o=0;o<i[0].length;o++)m[o]+=i[f[e][a]][o];for(a=0;a<i[0].length;a++)m[a]/=f[e].length;l[e]=m}}}return{clusters:f,means:l}};var g=function(t,r,n){var e=[];if(n){var a=p.range(t.length);for(a=p.shuffle(a),o=0;o<r;o++)e.push(t[a[o]])}else{var o,i,s=[];for(o=0;o<t[0].length;o++){var u=t[0][o],h=t[0][o];for(i=0;i<t.length;i++)t[i][o]<u&&(u=t[i][o]),t[i][o]>h&&(h=t[i][o]);s.push([u,h])}for(o=0;o<r;o++){var l=[];for(i=0;i<t[0].length;i++)l.push(Math.random()*(s[i][1]-s[i][0])+s[i][0]);e.push(l)}}return e}},{"./utils":12}],5:[function(t,r){var p=t("./utils").math;KNN=r.exports=function(t){this.data=t.data,this.result=t.result},KNN.prototype.predict=function(t){var r,n,e,a=t.x,o=t.k||3,i=void 0===(e=t.weightf)?function(t){return Math.exp(-1*t*t/200)}:"function"==typeof e?e:"gaussian"===e.type?function(t){var r=e.sigma;return Math.exp(-1*t*t/(2*r*r))}:"none"===e.type?function(){return 1}:void 0,s=void 0===(n=t.distance)?p.euclidean:"function"==typeof n?n:"euclidean"===n.type?p.euclidean:"pearson"===n.type?p.pearson:void 0,u=[];for(r=0;r<this.data.length;r++)u.push([s(a,this.data[r]),r]);u.sort(function(t,r){return t[0]-r[0]});var h,l=0,f=0;for(r=0;r<o;r++){var c=u[r][0],m=u[r][1];l+=(h=i(c))*this.result[m],f+=h}return l/f}},{"./utils":12}],6:[function(t,r){ml=r.exports,ml.kmeans=t("./kmeans"),ml.KNN=t("./knn"),ml.SVM=t("./svm"),ml.nmf=t("./nmf"),ml.optimize=t("./optimize"),ml.MLP=t("./mlp"),ml.DecisionTree=t("./DecisionTree"),ml.LogisticRegression=t("./LogisticRegression")},{"./DecisionTree":1,"./LogisticRegression":3,"./kmeans":4,"./knn":5,"./mlp":8,"./nmf":9,"./optimize":10,"./svm":11}],7:[function(t,r){m=r.exports,m.randn=function(){for(var t,r,n;1<=(n=(t=2*Math.random()-1)*t+(r=2*Math.random()-1)*r)||0==n;);return t*(n=Math.sqrt(-2*Math.log(n)/n))},m.shape=function(t){return[t.length,t[0].length]},m.addVec=function(t,r){if(t.length===r.length){var n,e=[];for(n=0;n<t.length;n++)e.push(t[n]+r[n]);return e}throw new Error("Length Error : not same.")},m.minusVec=function(t,r){if(t.length===r.length){var n,e=[];for(n=0;n<t.length;n++)e.push(t[n]-r[n]);return e}throw new Error("Length Error : not same.")},m.addMatScalar=function(t,r){var n,e,a=m.shape(t)[0],o=m.shape(t)[1],i=[];for(n=0;n<a;n++){var s=[];for(e=0;e<o;e++)s.push(t[n][e]+r);i.push(s)}return i},m.addMatVec=function(t,r){if(t[0].length===r.length){var n,e=[];for(n=0;n<t.length;n++)e.push(m.addVec(t[n],r));return e}throw new Error("Length Error : not same.")},m.minusMatVec=function(t,r){if(t[0].length===r.length){var n,e=[];for(n=0;n<t.length;n++)e.push(m.minusVec(t[n],r));return e}throw new Error("Length Error : not same.")},m.addMat=function(t,r){if(t.length===r.length&&t[0].length===r[0].length){for(var n=new Array(t.length),e=0;e<t.length;e++){n[e]=new Array(t[e].length);for(var a=0;a<t[e].length;a++)n[e][a]=t[e][a]+r[e][a]}return n}throw new Error("Matrix mismatch.")},m.minusMat=function(t,r){if(t.length===r.length&&t[0].length===r[0].length){for(var n=new Array(t.length),e=0;e<t.length;e++){n[e]=new Array(t[e].length);for(var a=0;a<t[e].length;a++)n[e][a]=t[e][a]-r[e][a]}return n}throw new Error("Matrix mismatch.")},m.transpose=function(t){for(var r=new Array(t[0].length),n=0;n<t[0].length;n++){r[n]=new Array(t.length);for(var e=0;e<t.length;e++)r[n][e]=t[e][n]}return r},m.dotVec=function(t,r){if(t.length===r.length){for(var n=0,e=0;e<t.length;e++)n+=t[e]*r[e];return n}throw new Error("Vector mismatch")},m.outerVec=function(t,r){var n=m.transpose([t]),e=[r];return m.mulMat(n,e)},m.mulVecScalar=function(t,r){var n,e=[];for(n=0;n<t.length;n++)e.push(t[n]*r);return e},m.mulMatScalar=function(t,r){var n,e,a=m.shape(t)[0],o=m.shape(t)[1],i=[];for(n=0;n<a;n++){var s=[];for(e=0;e<o;e++)s.push(t[n][e]*r);i.push(s)}return i},m.mulMatElementWise=function(t,r){if(t.length===r.length&&t[0].length===r[0].length){for(var n=new Array(t.length),e=0;e<t.length;e++)n[e]=new Array(t[0].length);for(var a=0;a<n.length;a++)for(var o=0;o<n[a].length;o++)n[a][o]=t[a][o]*r[a][o];return n}throw new Error("Matrix shape error : not same")},m.mulMat=function(t,r){if(t[0].length===r.length){for(var n=new Array(t.length),e=0;e<t.length;e++)n[e]=new Array(r[0].length);for(var a=m.transpose(r),o=0;o<n.length;o++)for(var i=0;i<n[o].length;i++)n[o][i]=m.dotVec(t[o],a[i]);return n}throw new Error("Array mismatch")},m.sumVec=function(t){for(var r=0,n=t.length;n--;)r+=t[n];return r},m.sumMat=function(t){for(var r=0,n=t.length;n--;)for(var e=0;e<t[0].length;e++)r+=t[n][e];return r},m.sumMatAxis=function(t,r){if(1===r){var n,e=m.shape(t)[0],a=[];for(n=0;n<e;n++)a.push(m.sumVec(t[n]));return a}return mat_T=m.transpose(t),m.sumMatAxis(mat_T,1)},m.meanVec=function(t){return 1*m.sumVec(t)/t.length},m.meanMat=function(t){var r=t.length,n=t[0].length;return 1*m.sumMat(t)/(r*n)},m.meanMatAxis=function(t,r){if(1===r){var n,e=m.shape(t)[0],a=[];for(n=0;n<e;n++)a.push(m.meanVec(t[n]));return a}return mat_T=m.transpose(t),m.meanMatAxis(mat_T,1)},m.squareVec=function(t){var r,n=[];for(r=0;r<t.length;r++)n.push(t[r]*t[r]);return n},m.squareMat=function(t){var r,n=[];for(r=0;r<t.length;r++)n.push(m.squareVec(t[r]));return n},m.minVec=function(t){for(var r=t[0],n=t.length;n--;)t[n]<r&&(r=t[n]);return r},m.maxVec=function(t){for(var r=t[0],n=t.length;n--;)t[n]>r&&(r=t[n]);return r},m.minMat=function(t){for(var r=t[0][0],n=t.length;n--;)for(var e=0;e<t[0].length;e++)t[n][e]<r&&(r=t[n][e]);return r},m.maxMat=function(t){for(var r=t[0][0],n=t.length;n--;)for(var e=0;e<t[0].length;e++)t[n][e]<r&&(r=t[n][e]);return r},m.zeroVec=function(t){for(var r=[];r.length<t;)r.push(0);return r},m.zeroMat=function(t,r){for(var n=[];n.length<t;)n.push(m.zeroVec(r));return n},m.oneVec=function(t){for(var r=[];r.length<t;)r.push(1);return r},m.oneMat=function(t,r){for(var n=[];n.length<t;)n.push(m.oneVec(r));return n},m.randVec=function(t,r,n){r=void 0!==r?r:0,n=void 0!==n?n:1;for(var e=[];e.length<t;)e.push(r+(n-r)*Math.random());return e},m.randMat=function(t,r,n,e){n=void 0!==n?n:0,e=void 0!==e?e:1;for(var a=[];a.length<t;)a.push(m.randVec(r,n,e));return a},m.randnVec=function(t,r,n){for(var e=[];e.length<t;)e.push(r+n*m.randn());return e},m.randnMat=function(t,r,n,e){for(var a=[];a.length<t;)a.push(m.randnVec(r,n,e));return a},m.identity=function(t){for(var r=new Array(t),n=0;n<t;n++){r[n]=new Array(t);for(var e=0;e<t;e++)r[n][e]=n===e?1:0}return r},m.sigmoid=function(t){var r=1/(1+Math.exp(-t));return 1==r?r=.99999999999999:0==r&&(r=1e-14),r},m.dSigmoid=function(t){return a=m.sigmoid(t),a*(1-a)},m.probToBinaryMat=function(t){var r,n,e=m.shape(t)[0],a=m.shape(t)[1],o=[];for(r=0;r<e;r++){var i=[];for(n=0;n<a;n++)Math.random()<t[r][n]?i.push(1):i.push(0);o.push(i)}return o},m.activateVec=function(t,r){var n,e=[];for(n=0;n<t.length;n++)e.push(r(t[n]));return e},m.activateMat=function(t,r){var n,e,a=m.shape(t)[0],o=m.shape(t)[1],i=[];for(n=0;n<a;n++){var s=[];for(e=0;e<o;e++)s.push(r(t[n][e]));i.push(s)}return i},m.activateTwoVec=function(t,r,n){if(t.length===r.length){for(var e=new Array(t.length),a=0;a<e.length;a++)e[a]=n(t[a],r[a]);return e}throw new Error("Matrix shape error : not same")},m.activateTwoMat=function(t,r,n){if(t.length===r.length&&t[0].length===r[0].length){for(var e=new Array(t.length),a=0;a<t.length;a++)e[a]=new Array(t[0].length);for(var o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++)e[o][i]=n(t[o][i],r[o][i]);return e}throw new Error("Matrix shape error : not same")},m.fillVec=function(t,r){for(var n=[];n.length<t;)n.push(r);return n},m.fillMat=function(t,r,n){for(var e=[];e.length<t;){for(var a=[];a.length<r;)a.push(n);e.push(a)}return e},m.softmaxVec=function(t){var r=m.maxVec(t),n=m.activateVec(t,function(t){return Math.exp(t-r)});return m.activateVec(n,function(t){return t/m.sumVec(n)})},m.softmaxMat=function(t){var r,n=[];for(r=0;r<t.length;r++)n.push(m.softmaxVec(t[r]));return n},m.randInt=function(t,r){var n=Math.random()*(r-t+.9999)+t;return Math.floor(n)},m.normalizeVec=function(t){var r,n=[],e=0;for(r=0;r<t.length;r++)e+=t[r];for(r=0;r<t.length;r++)n.push(1*t[r]/e);return n},m.euclidean=function(t,r){var n,e=0;for(n=0;n<t.length;n++){var a=t[n]-r[n];e+=a*a}return Math.sqrt(e)},m.pearson=function(t,r){for(var n=[],e=[],a=[],o=0;o<t.length;o++)n.push(t[o]*r[o]),e.push(t[o]*t[o]),a.push(r[o]*r[o]);var i=0,s=0,u=0,h=0,l=0;for(o=0;o<t.length;o++)i+=t[o],s+=r[o],u+=n[o],h+=e[o],l+=a[o];var f=t.length*u-i*s,c=t.length*h-i*i,m=t.length*l-s*s;return f/Math.sqrt(c*m)},m.getNormVec=function(t){var r,n=0;for(r=0;r<t.length;r++)n+=t[r]*t[r];return Math.sqrt(n)},m.gaussian=function(t,r){return r=r||10,Math.exp(-1*t*t/(2*r*r))},m.meanVecs=function(r){var t,n=m.zeroVec(r[0].length);for(t=0;t<r.length;t++)n=m.addVec(n,r[t]);return m.activateVec(n,function(t){return 1*t/r.length})},m.covarianceVecs=function(r){var t,n=m.zeroMat(r[0].length,r[0].length),e=m.meanVecs(r);for(t=0;t<r.length;t++){var a=m.minusVec(r[t],e);n=m.addMat(n,m.mulMat(m.transpose([a]),[a]))}return m.activateMat(n,function(t){return 1*t/(r.length-1)})},m.shuffle=function(t){for(var r=[],n=0;n<t.length;n++)r.push(t[n]);var e,a;for(n=r.length;n;e=parseInt(Math.random()*n),a=r[--n],r[n]=r[e],r[e]=a);return r},m.range=function(t,r,n){var e=[];void 0===n&&(n=1),void 0===r&&(r=t,t=0);for(var a=t;a<r;a+=n)e.push(a);return e}},{}],8:[function(t,r){var s=t("./utils").math;HiddenLayer=t("./HiddenLayer"),MLP=r.exports=function(t){var r,n=this;for(n.x=t.input,n.y=t.label,n.sigmoidLayers=[],n.nLayers=t.hidden_layer_sizes.length,n.settings={"log level":1},r=0;r<n.nLayers+1;r++){var e,a,o;e=0==r?t.n_ins:t.hidden_layer_sizes[r-1],a=0==r?n.x:n.sigmoidLayers[n.sigmoidLayers.length-1].sampleHgivenV(),o=r==n.nLayers?new HiddenLayer({input:a,n_in:e,n_out:t.n_outs,activation:s.sigmoid,W:void 0===t.w_array?void 0:t.w_array[r],b:void 0===t.b_array?void 0:t.b_array[r]}):new HiddenLayer({input:a,n_in:e,n_out:t.hidden_layer_sizes[r],activation:s.sigmoid,W:void 0===t.w_array?void 0:t.w_array[r],b:void 0===t.b_array?void 0:t.b_array[r]}),n.sigmoidLayers.push(o)}},MLP.prototype.train=function(t){var r=this,n=1e3;void 0!==t.lr&&t.lr,void 0!==t.epochs&&(n=t.epochs);var e,a=1;for(e=0;e<n;e++){var o=[];for(o.push(r.x),u=0;u<r.nLayers+1;u++)o.push(r.sigmoidLayers[u].output(o[u]));var i=o[r.nLayers+1],s=new Array(r.nLayers+1);for(s[r.nLayers]=m.mulMatElementWise(m.minusMat(r.y,i),m.activateMat(r.sigmoidLayers[r.nLayers].linearOutput(o[r.nLayers]),m.dSigmoid)),u=r.nLayers-1;0<=u;u--)s[u]=m.mulMatElementWise(r.sigmoidLayers[u+1].backPropagate(s[u+1]),m.activateMat(r.sigmoidLayers[u].linearOutput(o[u]),m.dSigmoid));for(var u=0;u<r.nLayers+1;u++){var h=m.activateMat(m.mulMat(m.transpose(o[u]),s[u]),function(t){return 1*t/r.x.length}),l=m.meanMatAxis(s[u],0);r.sigmoidLayers[u].W=m.addMat(r.sigmoidLayers[u].W,h),r.sigmoidLayers[u].b=m.addVec(r.sigmoidLayers[u].b,l)}if(0<r.settings["log level"]){var f=1*e/n*100;a<f&&(console.log("MLP",f.toFixed(0),"% Completed."),a+=8)}}0<r.settings["log level"]&&console.log("MLP Final Cross Entropy : ",r.getReconstructionCrossEntropy())},MLP.prototype.getReconstructionCrossEntropy=function(){var t=this.predict(this.x),r=s.activateTwoMat(this.y,t,function(t,r){return t*Math.log(r)}),n=s.activateTwoMat(this.y,t,function(t,r){return(1-t)*Math.log(1-r)});return-s.meanVec(s.sumMatAxis(s.addMat(r,n),1))},MLP.prototype.predict=function(t){var r=t;for(i=0;i<this.nLayers+1;i++)r=this.sigmoidLayers[i].output(r);return r},MLP.prototype.set=function(t,r){this.settings[t]=r}},{"./HiddenLayer":2,"./utils":12}],9:[function(t,r){var m=t("./utils").math;nmf=r.exports,nmf.factorize=function(t){var r,n=t.features,e=t.matrix,a=t.epochs,o=m.shape(e)[0],i=m.shape(e)[1],s=m.randMat(o,n,0,1),u=m.randMat(n,i,0,1);for(r=0;r<a;r++){m.mulMat(s,u);var h=m.mulMat(m.transpose(s),e),l=m.mulMat(m.mulMat(m.transpose(s),s),u);u=m.activateTwoMat(m.mulMatElementWise(u,h),l,function(t,r){return t/r});var f=m.mulMat(e,m.transpose(u)),c=m.mulMat(m.mulMat(s,u),m.transpose(u));s=m.activateTwoMat(m.mulMatElementWise(s,f),c,function(t,r){return t/r})}return[s,u]}},{"./utils":12}],10:[function(t,r){var y=t("./utils").math;optimize=r.exports,optimize.hillclimb=function(t){var r,n,e=t.domain,a=t.costf,o=[];for(i=0;i<e.length;i++)o.push(y.randInt(e[i][0],e[i][1]));for(;;){var i,s,u=[];for(i=0;i<e.length;i++)if(o[i]>e[i][0]){var h=[];for(s=0;s<e.length;s++)h.push(o[s]);h[i]-=1,u.push(h)}else if(o[i]<e[i][1]){h=[];for(s=0;s<e.length;s++)h.push(o[s]);h[i]+=1,u.push(h)}for(n=r=a(o),i=0;i<u.length;i++){var l=a(u[i]);l<n&&(n=l,o=u[i])}if(n===r)break}return o},optimize.anneal=function(t){var r,n=t.domain,e=t.costf,a=t.temperature,o=t.cool,i=t.step,s=[];for(r=0;r<n.length;r++)s.push(y.randInt(n[r][0],n[r][1]));for(;.1<a;){var u=y.randInt(0,n.length-1),h=y.randInt(-i,i),l=[];for(r=0;r<s.length;r++)l.push(s[r]);l[u]+=h,l[u]<n[u][0]&&(l[u]=n[u][0]),l[u]>n[u][1]&&(l[u]=n[u][1]);var f=e(s),c=e(l),m=Math.exp(-1*(c-f)/a);(c<f||Math.random()<m)&&(s=l),a*=o}return s},optimize.genetic=function(t){function r(t){var r,n=y.randInt(0,i.length-1),e=[];for(r=0;r<i.length;r++)e.push(t[r]);return e[n]+=Math.random()<.5?1:-1,e[n]<i[n][0]&&(e[n]=i[n][0]),e[n]>i[n][1]&&(e[n]=i[n][1]),e}function n(t,r){var n,e=y.randInt(0,i.length-2),a=[];for(n=0;n<e;n++)a.push(t[n]);for(n=e;n<i.length;n++)a.push(r[n]);return a}function e(t){var r,n=[0];for(r=0;r<t.length;r++)n.push(n[r]+t[r]);var e=Math.random();for(r=0;r<n.length;r++)if(e>n[r]&&e<=n[r+1])return r;return-1}var a,o,i=t.domain,s=t.costf,u=t.population,h=t.q||.3,l=t.elite||.04*u,f=t.epochs||100,c=[];for(a=0;a<u;a++){var m=[];for(o=0;o<i.length;o++)m.push(y.randInt(i[o][0],i[o][1]));c.push(m)}for(c.sort(function(t,r){return s(t)-s(r)}),a=0;a<f;a++){var p=[];for(o=0;o<l;o++)p.push(c[o]);var g=[];for(o=0;o<c.length;o++)g[o]=h*Math.pow(1-h,o);for(g=y.normalizeVec(g),o=0;o<c.length-l;o++){var v=e(g),d=e(g),M=r(n(c[v],c[d]));p.push(M)}(c=p).sort(function(t,r){return s(t)-s(r)})}return c[0]}},{"./utils":12}],11:[function(t,r){var w=t("./utils").math;SVM=r.exports=function(t){this.x=t.x,this.y=t.y},SVM.prototype.train=function(t){var a,r=this,n=t.C||1,e=t.tol||1e-4,o=t.max_passes||20,i=t.alpha_tol||1e-5;r.kernel=void 0===(a=t.kernel)?function(t,r){return Math.exp(-1*Math.pow(w.getNormVec(w.minusVec(t,r)),2)/2)}:"function"==typeof a?a:"gaussian"===a.type?function(t,r){var n=a.sigma;return Math.exp(-1*Math.pow(w.getNormVec(w.minusVec(t,r)),2)/(2*n*n))}:"linear"===a.type?function(t,r){return w.dotVec(t,r)}:"polynomial"===a.type?function(t,r){var n=a.c,e=a.d;return Math.pow(w.dotVec(t,r)+n,e)}:void 0,r.alphas=w.zeroVec(r.x.length);for(var s,u=r.b=0;u<o;){var h=0;for(s=0;s<r.x.length;s++){var l=r.f(r.x[s])-r.y[s];if(r.y[s]*l<-e&&r.alphas[s]<n||r.y[s]*l>e&&0<r.alphas[s]){var f=w.randInt(0,r.x.length-1);s==f&&(f=(f+1)%r.x.length);var c,m,p=r.f(r.x[f])-r.y[f],g=r.alphas[s],v=r.alphas[f];if(r.y[s]!==r.y[f]?(c=Math.max(0,r.alphas[f]-r.alphas[s]),m=Math.min(n,n+r.alphas[f]-r.alphas[s])):(c=Math.max(0,r.alphas[f]+r.alphas[s]-n),m=Math.min(n,r.alphas[f]+r.alphas[s])),c===m)continue;var d=2*r.kernel(r.x[s],r.x[f])-r.kernel(r.x[s],r.x[s])-r.kernel(r.x[f],r.x[f]);if(0<=d)continue;if(r.alphas[f]-=1*r.y[f]*(l-p)/d,r.alphas[f]>m?r.alphas[f]=m:r.alphas[f]<c&&(r.alphas[f]=c),Math.abs(r.alphas[f]-v)<i)continue;r.alphas[s]+=r.y[s]*r.y[f]*(v-r.alphas[f]);var M=r.b-l-r.y[s]*(r.alphas[s]-g)*r.kernel(r.x[s],r.x[s])-r.y[f]*(r.alphas[f]-v)*r.kernel(r.x[s],r.x[f]),y=r.b-p-r.y[s]*(r.alphas[s]-g)*r.kernel(r.x[s],r.x[f])-r.y[f]*(r.alphas[f]-v)*r.kernel(r.x[f],r.x[f]);r.b=0<r.alphas[s]&&r.alphas[s]<n?M:0<r.alphas[f]&&r.alphas[f]<n?y:(M+y)/2,h++}}0==h?u++:u=0}},SVM.prototype.predict=function(t){return 0<=this.f(t)?1:-1},SVM.prototype.f=function(t){var r,n=this,e=0;for(r=0;r<n.x.length;r++)e+=n.alphas[r]*n.y[r]*n.kernel(n.x[r],t);return e+n.b}},{"./utils":12}],12:[function(t,r){utils=r.exports,utils.math=t("./math"),utils.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},{"./math":7}],13:[function(t,r){function n(){}var e=r.exports={};e.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,r="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(r){var n=[];return window.addEventListener("message",function(t){var r=t.source;(r===window||null===r)&&"process-tick"===t.data&&(t.stopPropagation(),0<n.length)&&n.shift()()},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=n,e.addListener=n,e.once=n,e.off=n,e.removeListener=n,e.removeAllListeners=n,e.emit=n,e.binding=function(){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(){throw new Error("process.chdir is not supported")}},{}]},{},[6]);